{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "946984de_2db8bd9d",
        "filename": "services/core/java/com/android/server/pm/PackageInstallerSession.java",
        "patchSetId": 2
      },
      "lineNbr": 853,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-03-22T07:57:03Z",
      "side": 1,
      "message": "uid might be -1 here, let\u0027s try moving the trichrome check forward.",
      "revId": "cba27889e039ba10190954a587addadb5f5c683c",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8aeabf1b_70ee3e58",
        "filename": "services/core/java/com/android/server/pm/PackageInstallerSession.java",
        "patchSetId": 2
      },
      "lineNbr": 861,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-03-22T07:57:03Z",
      "side": 1,
      "message": "TODO: Try to set this via some other app with `INSTALL_PACKAGES` permission.",
      "revId": "cba27889e039ba10190954a587addadb5f5c683c",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c21468af_544df4eb",
        "filename": "services/core/java/com/android/server/pm/PackageInstallerSession.java",
        "patchSetId": 2
      },
      "lineNbr": 861,
      "author": {
        "id": 1000003
      },
      "writtenOn": "2023-03-22T15:02:40Z",
      "side": 1,
      "message": "Did you check if it works without this for 2nd update after confirming once? Then the installer record should be fine and we shouldn\u0027t need to mess with this, just treating trichrome installs as updates (maybe even without considering lupin) should be fine, right?",
      "parentUuid": "8aeabf1b_70ee3e58",
      "revId": "cba27889e039ba10190954a587addadb5f5c683c",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "508d9f13_b02accee",
        "filename": "services/core/java/com/android/server/pm/PackageInstallerSession.java",
        "patchSetId": 2
      },
      "lineNbr": 861,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-03-22T18:30:29Z",
      "side": 1,
      "message": "I didn\u0027t check without this yet, but I will do so.\n\nAnd yes, it should be fine, given Trichrome Library is a system app, and thus you can never \"install\" it, it\u0027d only be an update.\n\nIt should be safe to rely on android\u0027s existing security checks and downgrade protection for this.\n\ni.e., if there\u0027s no Lupin check here, the most some app could do is update Trichrome Library to a newer officially signed version.",
      "parentUuid": "c21468af_544df4eb",
      "revId": "cba27889e039ba10190954a587addadb5f5c683c",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    }
  ]
}