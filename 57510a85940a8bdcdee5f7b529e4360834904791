{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ea0d6205_a399a1e6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-10-19T14:11:01Z",
      "side": 1,
      "message": "Not working for APEX yet. Does appear to be working for system apps.\n\n```\ncat /data/system/uiderrors.txt\n# [...]\nSystem package replacing installed package of same version code; name: com.android.settings; 34 --\u003e 34; /data/app/~~EZ6pvhIzPQr4OaV-2n6BUA\u003d\u003d/com.android.settings-9WnPUV3Unz3SR3aw8MsITQ\u003d\u003d --\u003e /system_ext/priv-app/Settings\n```",
      "revId": "57510a85940a8bdcdee5f7b529e4360834904791",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "711a76a8_947eebb7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-10-19T20:05:09Z",
      "side": 1,
      "message": "TODO: Go through system apps we\u0027ve ever updated out of band, and check versions.\n\nWith 14 / 34 it most likely won\u0027t be an issue, but some have hardcoded versions.",
      "revId": "57510a85940a8bdcdee5f7b529e4360834904791",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "120cdff3_e9e75117",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-10-19T20:21:52Z",
      "side": 1,
      "message": "(Still pending so unresolving)",
      "parentUuid": "711a76a8_947eebb7",
      "revId": "57510a85940a8bdcdee5f7b529e4360834904791",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4b851250_fbef47ce",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000062
      },
      "writtenOn": "2023-10-19T20:53:50Z",
      "side": 1,
      "message": "APEX is complicated and handled largely by apexd.cpp. You need adb to update it anyway, and our prevention change will stop it from happening going forward (not to mention that we will be using prebuilt APEX which will have version codes that vary more often): https://review.calyxos.org/c/CalyxOS/platform_frameworks_base/+/22204\n\nI don\u0027t think it\u0027s worth worrying about fixing any APEX modules already affected by this, but if it is, the complexity would probably make it better suited for a separate patch.\n\nThis is where I left off:\n```\n        if (isApexPkg) {\n            if (pkgSetting !\u003d null \u0026\u0026 parsedPackage !\u003d null \u0026\u0026 newPkgVersionSame) {\n                logCriticalInfo(Log.WARN,\n                        \"System APEX is updated to same version, removing update;\"\n                                + \" name: \" + pkgSetting.getPackageName());\n                // ... but how do you remove it? it\u0027s not like a regular package\n            }\n        }\n```",
      "parentUuid": "ea0d6205_a399a1e6",
      "revId": "57510a85940a8bdcdee5f7b529e4360834904791",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c9312f6c_5364cf9d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2023-10-19T21:33:34Z",
      "side": 1,
      "message": "It isn\u0027t worth worrying about apex.\n\nI don\u0027t think we will\n\nThere\u0027s a lot of harm you can do using adb, we can\u0027t stop it all. We won\u0027t go out of our way to add something new, but let\u0027s not worry about existing things possible via adb install. It\u0027s not our problem.\n\nAnd then yes once updates start happening, it\u0027s most likely each build will have a new version.",
      "parentUuid": "4b851250_fbef47ce",
      "revId": "57510a85940a8bdcdee5f7b529e4360834904791",
      "serverId": "35266860-6252-469c-a67d-185064479fc0"
    }
  ]
}